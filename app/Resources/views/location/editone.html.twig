{# templates/location/editone.html.twig #}

{% extends 'admin.html.twig' %}

{% block stylesheets %}
      {{ parent() }}
   <link href="{{ asset('css/location/editone.css') }}" rel="stylesheet" />
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
   integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
   crossorigin=""/>
{% endblock %}
{% block js %}
 {{ parent() }}
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
   integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
   crossorigin="">
   </script>
  <script>
     function clickevent(eid)
     {
        window.location.href = '/admin/event/'+eid;
     }
     function clickimage(iid)
     {
        window.location.href = '/admin/image/'+iid;
     }
     function clickperson(pid)
     {
        window.location.href = '/admin/person/'+pid;
     }
     function clicklocation(lid)
     {
        window.location.href = '/admin/location/'+lid;
     }
     function clickcontent(cid)
     {
        window.location.href = '/admin/content/'+cid;
     }

</script>
{% endblock %}




{% block middle %}
<div id="editlocation">
   {% if message %}
     <h1> {{message}}</h1>
   {% endif %}
   
 
   {% if location.ancestors %}
       {% set ancestors = location.ancestors %}
        <div  class="breadcrumbs">
          {% for key in ancestors | keys %}
           => <a href='{{ancestors[key]["link"]}}' >{{ancestors[key]['name']}} </a> 
          {% endfor %}
        </div>
 
   
   
  {% endif %} 

   {% if location %}
      <div class="heading">
       <div class="label"> {{'location.a.editer' | trans}}</div>
        <div class='title' >{{ location.name}}</div>
          <div class='editbutton' ><a href="/admin/location/detail/{{location.locid}}">{{'edit.detail' |trans}}</a></div>
          <div class='editbutton' ><a href="/admin/location/addbookmark/{{location.locid}}">{{'bookmark' |trans}}</a></div>
     </div>
   
  
   
   <div class= "coordinates">
   <div class="latlong" > {{location.latitude}} : {{location.longitude}}</div>
   </div>
   
   
     
 
    {% if texts and texts["FR"] %}
       <div class="text" >
            {{ texts["FR"] | raw }}
      </div>
   {% endif %}
   

   
  {% if location.latitude %}
   <div class="map" >
    <div id="mapid"></div>
    <script  type="text/javascript" >
       var mymap = myMapper2({{location.latitude}}, {{location.longitude}});
         mymap.on('click', onMapClick);
    </script>
   </div>
  {% endif %}
   
   
  
      <div class="editbutton"><a href="/admin/location/detail/new/{{location.locid}}" >{{'new.location' | trans}} </a> </div>

    
      {% if location.children %}
     {% set children = location.children %}
     <div class='children' >       
       {% for key in children | keys %}
         <div><a href='{{children[key]['link']}}' >{{children[key]['name']}}</a> </div>
      {% endfor %}
      </div>
      {% endif %} 
  {% endif %}
  </div>
{% endblock %}

{% block right %}

   {{ render(controller('AppBundle\\Controller\\BookmarksController::setfield'))}}

{% endblock%}

