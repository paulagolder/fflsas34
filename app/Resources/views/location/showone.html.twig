{# templates/location/showone.html.twig #}
{% import 'macros.twig' as m %}
{% extends 'base.html.twig' %}

{% block stylesheets %}
{{ parent() }}
<link href="{{ asset('css/location_css/showone.css') }}" rel="stylesheet" />
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
      integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
      crossorigin=""/>
{% endblock %}
{% block js %}
{{ parent() }}
<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
        integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
        crossorigin="">
    </script>
    
    {% endblock %}
    
    
    
    
    {% block middle %}
    <div id="location" >
        {% if message %}
        <h1> {{message}}</h1>
        {% endif %}
        
        
        {% if location.ancestors %}
        {% set ancestors = location.ancestors %}
        <div  class="breadcrumbs">
            {% for key in ancestors | keys %}
            => <a href='{{ancestors[key]["link"]}}' >{{ancestors[key]['name']}} </a> 
        {% endfor %}
    </div>
    {% endif %} 
    
    {% if location %}
    <div class="heading" >
        <div class="title" >{{ location.name }}</div>
    </div>
    <div class="latlong" > {{location.latitude}} : {{location.longitude}} : {{ location.zoom}}</div>
    
    
    {% if texts and texts["FR"] %}
    <div class="text" >
        {{ texts["FR"] | raw }}
    </div>
    {% endif %}
    
    {% if location.latitude %}
    <div class="map" >
        <div id="mapid"></div>
        <script  type="text/javascript" >
            myMapper3({{location.latitude}}, {{location.longitude}}, {{location.zoom}});
        </script>
    </div>
    {% endif %}
    <div class="childrenandrefs" >
        {% if location.children %}
        {% set children = location.children %}
        <div class='children' >       
            {% for key in children | keys %}
            <div><a href='{{children[key]['link']}}' >{{children[key]['name']}}</a> </div>
            {% endfor %}
        </div>
        {% endif %} 
    </div>
        <div class="refs" >
            {{ m.links('event.links',eventlocs, 'links') }} 
            {{ m.links('person.links',personlocs, 'links') }} 
        </div>
    </div>
</div>
{% endif %}

</div>
{% endblock %}
