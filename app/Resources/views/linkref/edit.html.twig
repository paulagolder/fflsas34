{# templates/linkref/edit.html.twig #}

{% extends 'admin.html.twig' %}

{% block stylesheets %}
      {{ parent() }}
   <link href="{{ asset('linkref/edit.css') }}" rel="stylesheet" />
{% endblock %}
{% block js %}
 {{ parent() }}
 <script>
  
     function clickevent(eid)
     {
       
     }
     function clickimage(iid)
     {
       
     }
     function selfile(){
    var x = document.getElementById("myFile");
    var txt = "";
    if ('files' in x) {
        if (x.files.length == 0) {
            txt = "Select one or more files.";
        } else {
            for (var i = 0; i < x.files.length; i++) {
                txt += "<br><strong>" + (i+1) + ". file</strong><br>";
                var file = x.files[i];
                if ('name' in file) {
                    txt += "name: " + file.name + "<br>";
                }
                if ('size' in file) {
                    txt += "size: " + file.size + " bytes <br>";
                }
            }
        }
    } 
    else {
        if (x.value == "") {
            txt += "Select one or more files.";
        } else {
            txt += "The files property is not supported by your browser!";
            txt  += "<br>The path of the selected file: " + x.value; // If the browser does not support the files property, it will return the path of the selected file instead. 
        }
    }
    document.getElementById("demo").innerHTML = txt;
}
   </script>
{%endblock%}


{% block middle %}
  <div id="linkrefsedit" >
   {% if message %}
     <h1> {{message}}</h1>
   {% endif %}
   <div class="heading">
   {% if ref %}
     <div class="label">
      {{'a.link.from' | trans}}
     </div>
     <div class="title">
     {{label}}
     </div> 
      <div class="returnbutton"> <a href = {{returnlink}} >{% trans %} retour {% endtrans%} </a> </div>
     
  {% endif %}
  </div>

<div  class="adminform" >
{{ form_start(form) }}
    {{ form_row(form.objecttype) }}
    {{ form_row(form.objid) }}
    {{ form_row(form.label) }}
  
 <div>
 <input type="file" id="myFile"  onchange="selfile()">
 <p id="demo"></p>
 </div>

    {{ form_row(form.path) }}
    {{ form_row(form.doctype) }}
    <button type="submit">Register!</button>
{{ form_end(form) }}
</div>

</div>
{% endblock %}
